/*! app.js 2015-10-18 */
"use strict";angular.module("myApp",["ngRoute","firebase","myApp.authentification","myApp.homepage","myApp.view1","myApp.view2","myApp.version","myApp.login-logout"]).run(["$rootScope","$location",function(a,b){a.$on("$routeChangeError",function(a,c,d,e){"AUTH_REQUIRED"===e&&b.path("/login")})}]).filter("capitalize",function(){return function(a){return a?a.charAt(0).toUpperCase()+a.substr(1).toLowerCase():""}}),angular.module("myApp.authentification",["firebase"]).factory("Auth",["$firebaseAuth",function(a){var b=new Firebase("https://renan-app.firebaseio.com");return a(b)}]).controller("authTest",["$scope","Auth","$firebaseObject","$location",function(a,b,c,d){a.auth=b,b.$onAuth(function(b){if(b){var d=new Firebase("https://renan-app.firebaseio.com/"),e=c(d.child("users").child(b.uid));a.authData=e}}),a.logout=function(){b.$unauth(),a.authData=!1}}]).controller("authController",["$scope","Auth","$location","$firebaseObject",function(a,b,c,d){a.createUser=function(){a.message=null,a.error=null,b.$createUser({email:a.email,password:a.password}).then(function(e){a.message="User created with uid: "+e.uid;var f=new Firebase("https://renan-app.firebaseio.com/users/"+e.uid),g=d(f);g.firstname=a.firstname,g.lastname=a.lastname,g.email=a.email,g.uid=e.uid,g.$save().then(function(){console.log("user saved!")})["catch"](function(a){console.log("Error!")}),b.$authWithPassword({email:a.email,password:a.password}).then(function(a){c.path("/view1")})["catch"](function(b){console.error("Authentication failed:",b),a.error=b})})["catch"](function(b){a.error=b})},a.removeUser=function(){a.message=null,a.error=null,b.$removeUser({email:a.email,password:a.password}).then(function(){a.message="User removed"})["catch"](function(b){a.error=b})}}]).controller("login",["$scope","Auth","$location",function(a,b,c){a.login=function(){a.authData=null,a.error=null,b.$authWithPassword({email:a.email,password:a.password}).then(function(a){c.path("/view1")})["catch"](function(b){console.error("Authentication failed:",b),a.error=b})}}]),angular.module("myApp.homepage",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"view/home/home.html",controller:"homepage"})}]).controller("homepage",["$scope","$firebaseObject",function(a,b){var c=new Firebase("https://renan-app.firebaseio.com/results"),d=b(c);d.$bindTo(a,"data"),console.log(d)}]),angular.module("myApp.login-logout",["ngRoute"]).config(["$routeProvider",function(a){a.when("/login",{templateUrl:"view/login-logout/login-logout.html"})}]).controller("View1Ctrl",["$scope","$firebaseObject",function(a,b){var c=new Firebase("https://renan-app.firebaseio.com/results"),d=b(c);d.$bindTo(a,"data")}]),angular.module("myApp.view1",["ngRoute"]).config(["$routeProvider",function(a){a.when("/view1",{templateUrl:"view/view1/view1.html",controller:"View1Ctrl",resolve:{currentAuth:["Auth",function(a){return a.$requireAuth()}]}})}]).controller("View1Ctrl",["$scope","$firebaseObject",function(a,b){var c=new Firebase("https://renan-app.firebaseio.com/results"),d=b(c);d.$bindTo(a,"data")}]),angular.module("myApp.view2",["ngRoute"]).config(["$routeProvider",function(a){a.when("/view2",{templateUrl:"view/view2/view2.html",controller:"View2Ctrl",resolve:{currentAuth:["Auth",function(a){return a.$requireAuth()}]}})}]).controller("View2Ctrl",[function(){}]);